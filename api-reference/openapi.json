{
	"openapi": "3.1.0",
	"info": {
		"title": "OpenAPI Plant Store",
		"description": "A sample API that uses a plant store as an example to demonstrate features in the OpenAPI specification",
		"license": {
			"name": "MIT"
		},
		"version": "1.0.0"
	},
	"servers": [
		{
			"url": "https://pbx-{insert-proxybox-id}.pbxz.io/api/v1",
			"description": "Version 1 of Proxybox API"
		}
	],
	"security": [
		{
			"ApiKeyAuth": []
		}
	],
	"paths": {
		"/status": {
			"get": {
				"description": "Returns the status of your proxybox device",
				"responses": {
					"200": {
						"description": "Status Response",
						"content": {
							"application/json": {
								"schema": {
									"type": "array",
									"items": {
										"$ref": "#/components/schemas/Status"
									}
								}
							}
						}
					},
					"400": {
						"description": "Unexpected error",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		}
	},
	"components": {
		"schemas": {
			"Status": {
				"type": "object",
				"required": ["status", "statusCode", "result"],
				"properties": {
					"status": {
						"type": "string",
						"example": "success"
					},
					"statusCode": {
						"type": "integer",
						"example": 200
					},
					"result": {
						"type": "object",
						"required": ["module", "message", "content"],
						"properties": {
							"module": {
								"type": "string",
								"example": "/status"
							},
							"message": {
								"type": "string",
								"example": "Successfully obtained device status."
							},
							"content": {
								"type": "object",
								"properties": {
									"uptime": { "type": "number", "example": 109975.16 },
									"version": { "type": "string", "example": "3.2.1" },
									"load": { "type": "number", "example": 0 },
									"totalMemory": { "type": "integer", "example": 1936011264 },
									"freeMemory": { "type": "integer", "example": 1559552000 },
									"ipAddress": { "type": "string", "example": "192.168.86.31" },
									"buildVersion": {
										"type": "string",
										"example": "BUILD 3.2.1"
									},
									"builtAt": { "type": "string", "example": "2021-01-01" },
									"hostname": { "type": "string", "example": "pbx-JRDN" },
									"domain": { "type": "string", "example": "pbxz.io" },
									"extensions": {
										"type": "array"
									}
								}
							}
						}
					}
				}
			},
			"Error": {
				"required": ["status", "statusCode", "result"],
				"type": "object",
				"properties": {
					"status": {
						"type": "string",
						"example": "error"
					},
					"statusCode": {
						"type": "integer",
						"example": 400
					},
					"result": {
						"type": "object",
						"required": ["module", "message", "content"],
						"properties": {
							"module": {
								"type": "string",
								"example": "/status"
							},
							"message": {
								"type": "string",
								"example": "An error occured."
							},
							"content": {
								"type": "string",
								"example": "A specific error occured."
							}
						}
					}
				}
			}
		},
		"securitySchemes": {
			"ApiKeyAuth": {
				"type": "apiKey",
				"in": "header",
				"name": "X-API-Key"
			}
		}
	}
}
